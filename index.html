<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è§†é¢‘æ’­æ”¾å€’è®¡æ—¶é¡µé¢</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #e0f7fa;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(13, 19, 33, 0.8);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(64, 224, 208, 0.2);
        }
        
        h1 {
            text-align: center;
            color: #40e0d0;
            font-size: 2.5rem;
            margin-bottom: 30px;
            text-shadow: 0 0 10px rgba(64, 224, 208, 0.5);
        }
        
        .video-container {
            text-align: center;
            margin: 30px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }
        
        video {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
        }
        
        .countdown-container {
            text-align: center;
            margin: 30px 0;
            padding: 25px;
            background: rgba(25, 39, 52, 0.7);
            border-radius: 10px;
            border: 1px solid rgba(64, 224, 208, 0.3);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .countdown {
            font-size: 2.2rem;
            color: #40e0d0;
            font-weight: bold;
            margin: 15px 0;
            letter-spacing: 2px;
            text-shadow: 0 0 8px rgba(64, 224, 208, 0.7);
        }
        
        .status {
            font-size: 1.3rem;
            color: #b2ebf2;
            margin-top: 15px;
        }
        
        .close-time {
            font-size: 1.1rem;
            color: #80deea;
            margin-bottom: 15px;
        }
        
        .expired {
            color: #ff5252;
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 0 0 8px rgba(255, 82, 82, 0.7);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¬ è§†é¢‘æ’­æ”¾é¡µé¢</h1>
        
        <div class="video-container">
            <video controls width="640" height="360">
                <!-- è¯·æ›¿æ¢ä¸‹é¢çš„è§†é¢‘URLä¸ºæ‚¨è‡ªå·±çš„è§†é¢‘åœ°å€ -->
                <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                <!-- å¤‡ç”¨è§†é¢‘æº -->
                <source src="https://www.w3schools.com/html/movie.mp4" type="video/mp4">
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
            </video>
        </div>
        
        <div class="countdown-container">
            <div class="close-time" id="closeTime">å…³é—­æ—¶é—´ï¼šåŠ è½½ä¸­...</div>
            <div class="countdown" id="countdown">è®¡ç®—ä¸­...</div>
            <div class="status" id="status">è·ç¦»å…³é—­æ—¶é—´è¿˜å‰©</div>
        </div>
    </div>

    <script>
        // è®¾ç½®å…³é—­æ—¶é—´ï¼ˆ24å°æ—¶åˆ¶ï¼Œæ ¼å¼ï¼šå°æ—¶:åˆ†é’Ÿï¼‰
        const closeTime = "8:00";
        
        function parseTime(timeStr) {
            const [hours, minutes] = timeStr.split(':').map(Number);
            return { hours, minutes };
        }
        
        function updateCountdown() {
            const now = new Date();
            const currentYear = now.getFullYear();
            const currentMonth = now.getMonth();
            const currentDate = now.getDate();
            
            const { hours: closeHours, minutes: closeMinutes } = parseTime(closeTime);
            
            // åˆ›å»ºä»Šå¤©çš„å…³é—­æ—¶é—´
            let closeDateTime = new Date(currentYear, currentMonth, currentDate, closeHours, closeMinutes);
            
            // å¦‚æœä»Šå¤©çš„å…³é—­æ—¶é—´å·²è¿‡ï¼Œåˆ™è®¾ç½®ä¸ºæ˜å¤©
            if (closeDateTime <= now) {
                closeDateTime.setDate(closeDateTime.getDate() + 1);
            }
            
            // æ˜¾ç¤ºå…³é—­æ—¶é—´
            const closeTimeStr = closeDateTime.toLocaleString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                hour12: false
            });
            document.getElementById('closeTime').textContent = `å…³é—­æ—¶é—´ï¼š${closeTimeStr}`;
            
            // è®¡ç®—å‰©ä½™æ—¶é—´
            const timeDiff = closeDateTime - now;
            
            if (timeDiff > 0) {
                const hours = Math.floor(timeDiff / (1000 * 60 * 60));
                const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);
                
                let timeString = '';
                if (hours > 0) {
                    timeString += `${hours}å°æ—¶`;
                }
                if (minutes > 0 || hours > 0) {
                    timeString += `${minutes}åˆ†é’Ÿ`;
                }
                timeString += `${seconds}ç§’`;
                
                document.getElementById('countdown').textContent = timeString;
                document.getElementById('status').textContent = 'è·ç¦»å…³é—­æ—¶é—´è¿˜å‰©';
                
                // å½“å‰©ä½™æ—¶é—´å°‘äº5åˆ†é’Ÿæ—¶ï¼Œæ”¹å˜é¢œè‰²
                if (timeDiff < 5 * 60 * 1000) {
                    document.getElementById('countdown').style.color = '#ff4444';
                    document.getElementById('countdown').style.textShadow = '0 0 8px rgba(255, 68, 68, 0.7)';
                } else {
                    document.getElementById('countdown').style.color = '#40e0d0';
                    document.getElementById('countdown').style.textShadow = '0 0 8px rgba(64, 224, 208, 0.7)';
                }
            } else {
                document.getElementById('countdown').innerHTML = '<span class="expired">â° æ—¶é—´åˆ°ï¼é¡µé¢å·²å…³é—­</span>';
                document.getElementById('status').textContent = '';
                
                // æ—¶é—´åˆ°åçš„æ“ä½œ
                setTimeout(() => {
                    // å¯ä»¥é€‰æ‹©å…³é—­é¡µé¢æˆ–è·³è½¬åˆ°å…¶ä»–é¡µé¢
                    // window.close(); // æ³¨æ„ï¼šè¿™å¯èƒ½åœ¨æŸäº›æµè§ˆå™¨ä¸­ä¸èµ·ä½œç”¨
                    // window.location.href = 'about:blank';
                    alert('æ—¶é—´åˆ°ï¼é¡µé¢å°†åœ¨3ç§’åå…³é—­');
                    setTimeout(() => {
                        window.location.href = 'about:blank';
                    }, 3000);
                }, 1000);
            }
        }
        
        // ç«‹å³æ›´æ–°ä¸€æ¬¡
        updateCountdown();
        
        // æ¯ç§’æ›´æ–°å€’è®¡æ—¶
        setInterval(updateCountdown, 1000);
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„æç¤º
        window.addEventListener('load', () => {
            console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œå€’è®¡æ—¶å¼€å§‹...');
            
            // æ£€æŸ¥è§†é¢‘æ˜¯å¦å¯ä»¥æ’­æ”¾
            const video = document.querySelector('video');
            video.addEventListener('error', (e) => {
                console.error('è§†é¢‘åŠ è½½å¤±è´¥:', e);
                alert('è§†é¢‘åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥è§†é¢‘æºæ˜¯å¦æ­£ç¡®');
            });
            
            video.addEventListener('loadeddata', () => {
                console.log('è§†é¢‘åŠ è½½æˆåŠŸ');
            });
        });
        
        // æ·»åŠ é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', (e) => {
            const video = document.querySelector('video');
            switch(e.key) {
                case ' ': // ç©ºæ ¼é”®æ’­æ”¾/æš‚åœ
                    e.preventDefault();
                    if (video.paused) {
                        video.play();
                    } else {
                        video.pause();
                    }
                    break;
                case 'f': // Fé”®å…¨å±
                    if (video.requestFullscreen) {
                        video.requestFullscreen();
                    }
                    break;
            }
        });
    </script>
</body>
</html>
